<!DOCTYPE html>

<html>

<head>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/skeleton.css" />
  <link rel="stylesheet" href="css/font-awesome.css" />
  <link rel="stylesheet" href="css/open-sans.css" />
  <link rel="stylesheet" href="css/index.css" />
  <link rel="stylesheet" href="css/tooltipster.bundle.min.css" />

  <script src="js/cytoscape.min.js"></script>
  <script src="js/cola.js"></script>
  <script src="js/cytoscape-cola.js"></script>
  <script src="js/jquery-3.1.1.min.js"></script>
  <script src="js/tooltipster.bundle.min.js"></script>
  <script src="js/index.js"></script>

  <script>
    var cy = (window.cy = cytoscape({
      container: document.getElementById("cy"),

      boxSelectionEnabled: false,
      autounselectify: true,

      style: [{
          selector: "node",
          css: {
            content: "data(id)",
            "text-valign": "center",
            "text-halign": "center",
            height: "60px",
            width: "100px",
            shape: "rectangle",
            "background-color": "data(faveColor)"
          }
        },
        {
          selector: "edge",
          css: {
            "curve-style": "bezier",
            "control-point-step-size": 40,
            "target-arrow-shape": "triangle"
          }
        }
      ],

      elements: {
        nodes: [{
            data: {
              id: "Top",
              faveColor: "#2763c4"
            }
          },
          {
            data: {
              id: "yes",
              faveColor: "#37a32d"
            }
          },
          {
            data: {
              id: "no",
              faveColor: "#2763c4"
            }
          },
          {
            data: {
              id: "Third",
              faveColor: "#2763c4"
            }
          },
          {
            data: {
              id: "Fourth",
              faveColor: "#56a9f7"
            }
          }
        ],
        edges: [{
            data: {
              source: "Top",
              target: "yes"
            }
          },
          {
            data: {
              source: "Top",
              target: "no"
            }
          },
          {
            data: {
              source: "no",
              target: "Third"
            }
          },
          {
            data: {
              source: "Third",
              target: "Fourth"
            }
          }
        ]
      },
      layout: {
        name: "dagre"
      }
    }));

    cy.unbind('click');
    cy.bind('click', 'node', function(node) {
      console.log(node.target.predecessors().edges());
      node.target.predecessors().edges().animate({
        style: {
          lineColor: "red"
        }
      });
    });

  </script>

  <title>KCMC Instances Visualization</title>
</head>

<body>

  <div id="cy" class="main">
  </div>

  <div class="tools">
    <h2>Instance</h2>

    <p>Select a visualization-formatted KCMC Instance</p>

    <label for="data" class="tooltip u-pull-left" title="Switch to a new KCMC Instance">Active KCMC Instance</label>
    <div class="u-cf"></div>
    <select class id="data">
        <option value="KCMC_100_100_1_300_50_100_263183180.json" selected>KCMC 263183180</option>

        <option value="social.json">Social</option>
        <option value="genes.json">Genes</option>
        <!-- <option value="custom.json">Custom</option> -->
      </select>

    <h2>Layout</h2>

    <p>Alter the graph-layout algorithm from the default positions for each node</p>

    <label for="layout" class="tooltip u-pull-left" title="Change layout">Active layout</label>
    <div class="u-cf"></div>
    <select id="layout">
        <option value="cola" selected>Force-directed</option>
        <option value="concentricCentrality">Concentric by centrality</option>
        <option value="concentricHierarchyCentrality">Hierarchy by centrality</option>
        <!-- <option value="custom">Custom</option> -->
      </select>
    <i id="redo-layout" class="fa fa-refresh action-icon tooltip" title="Redo layout"></i>

    <h2>Algorithms</h2>

    <p>Run popular algorithms in the KCMC instance, including Breadth-First Search and Depth-First Search.</p>

    <label for="algorithm" class="tooltip u-pull-left" title="Run algorithm. Try running A* a few times to see distances to different nodes">
        Run algorithm
      </label>
    <div class="u-cf"></div>
    <select id="algorithm">
        <option value="none" selected>None</option>
        <option value="bfs">BFS</option>
        <option value="dfs">DFS</option>
        <option value="astar">A*</option>
        <!-- <option value="custom">Custom</option> -->
      </select>
    <i id="redo-algorithm" class="fa fa-refresh action-icon tooltip" title="Redo algorithm visualization"></i>

    <h2>Style</h2>

    <p>Select a CSS stylesheet for the visualization</p>
    <label for="style" class="tooltip u-pull-left" title="Switch to a new graph stylesheet">Active stylesheet</label>
    <div class="u-cf"></div>
    <select id="style">
        <option value="fancy.json" selected>Fancy</option>
        <option value="plain.cycss">Plain</option>
        <!-- <option value="custom.cycss">Custom</option> -->
      </select>

  </div>

  <div class="footer-link">
    <a target="_blank" href="http://js.cytoscape.org">js.cytoscape.org</a>
  </div>
</body>

</html>